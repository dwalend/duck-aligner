$schema: https://raw.githubusercontent.com/oyvindberg/bleep/master/schema.json
$version: 0.0.14
jvm:
  name: corretto:25.0.2.10.1
projects:
  BleepScripts:
    dependencies:
    - build.bleep::bleep-core:${BLEEP_VERSION}
    - build.bleep::bleep-model:${BLEEP_VERSION}
    - com.github.mwiede:jsch:2.27.7
    - org.apache.ant:ant-jsch:1.10.15
    - org.slf4j:slf4j-simple:2.0.17
    - software.amazon.awssdk:apigateway:2.41.20
    - software.amazon.awssdk:ec2:2.41.20
    - software.amazon.awssdk:s3:2.41.20
    extends: template-common
  DuckStudio:
    dependencies: org.creativescala::doodle:0.33.0
    extends: template-common
  DuckUpdateBrowser:
    dependencies:
    - com.armanbilge::calico:0.2.3
    - org.creativescala::doodle:0.33.0
    - org.http4s::http4s-dom:0.2.12
    - org.scala-js::scalajs-dom:2.8.1
    - org.scalablytyped:maplibre-gl_sjs1_3:5.6.0-01fc1f
    dependsOn: DuckUpdateSmithy
    extends: template-js
    platform:
      mainClass: net.walend.duck.front.Main
  DuckUpdateService:
    dependencies:
    - org.http4s::http4s-circe:0.23.33
    - org.http4s::http4s-dsl:0.23.33
    - org.http4s::http4s-ember-client:0.23.33
    - org.http4s::http4s-ember-server:0.23.33
    - org.slf4j:slf4j-simple:2.0.17
    - org.typelevel::log4cats-core:2.7.1
    - org.typelevel::log4cats-slf4j:2.7.1
    - software.amazon.awssdk:geomaps:2.41.20
    dependsOn: DuckUpdateSmithy
    extends: template-common
    platform:
      mainClass: net.walend.duckaligner.duckupdateservice.Main
    resources: ../.bleep/builds/normal/.bloop/DuckUpdateBrowser/DuckUpdateBrowser-js
  DuckUpdateServiceTest:
    dependencies:
    - org.scalameta::munit:1.2.2
    - org.typelevel::munit-cats-effect:2.1.0
    dependsOn: DuckUpdateService
    extends: template-common
    isTestProject: true
  DuckUpdateSmithy:
    cross:
      js: {}
      jvm: {}
    dependencies:
    - com.disneystreaming.alloy:alloy-core:0.3.36
    - com.disneystreaming.smithy4s::smithy4s-http4s:0.18.46
    extends: template-cross
    sourcegen:
      main: bleep.scripts.smithy4s.GenerateSmithyScala
      project: GenSmithy
  GenSmithy:
    dependencies:
    - build.bleep::bleep-core:${BLEEP_VERSION}
    - build.bleep::bleep-model:${BLEEP_VERSION}
    - com.disneystreaming.smithy4s:smithy4s-codegen_2.13:0.18.46
    extends: template-common
  TestFatJar:
    dependencies: org.typelevel::cats-effect:3.6.3
    extends: template-common
    platform:
      mainClass: net.walend.fatjar.Main
  WoodenDuck:
    dependencies: org.http4s::http4s-ember-client:0.23.33
    dependsOn: DuckUpdateSmithy
    extends: template-common
    platform:
      mainClass: net.walend.duckaligner.wooden.Main
scripts:
  create-api-gateway:
    main: bleep.scripts.aws.CreateApiGateway
    project: BleepScripts
  create-ec2-launch-template:
    main: bleep.scripts.aws.CreateEc2LaunchTemplate
    project: BleepScripts
  delete-api-gateways:
    main: bleep.scripts.aws.DeleteApiGateways
    project: BleepScripts
  fat-duck-update:
    main: bleep.scripts.webapp.FatDuckUpdate
    project: BleepScripts
  fat-jar:
    main: bleep.scripts.fatjar.FatJar
    project: BleepScripts
  push-duck-update:
    main: bleep.scripts.aws.PushDuckUpdateServiceToEc2
    project: BleepScripts
  push-to-ec2:
    main: bleep.scripts.aws.PushServiceToEc2
    project: BleepScripts
  start-duck-update:
    main: bleep.scripts.aws.StartTestDuckUpdateService
    project: BleepScripts
  start-ec2:
    main: bleep.scripts.aws.StartEc2Machine
    project: BleepScripts
  stop-duck-update:
    main: bleep.scripts.aws.StopTestDuckUpdateService
    project: BleepScripts
  stop-ec2:
    main: bleep.scripts.aws.TerminateEc2Machine
    project: BleepScripts
templates:
  template-common:
    platform:
      name: jvm
    scala:
      options: -Wnonunit-statement -Wunused:explicits -Wunused:implicits -Wunused:imports
        -Wunused:locals -Wunused:params //-Wconf:any:warning-verbose -Wvalue-discard
        -Ykind-projector -deprecation -encoding utf8 -feature -language:experimental.macros
        -language:higherKinds -unchecked
      strict: true
      version: 3.3.6
  template-cross:
    cross:
      js:
        extends: template-js
      jvm:
        extends: template-common
  template-js:
    platform:
      jsNodeVersion: 21.7.2
      jsVersion: 1.20.1
      name: js
    scala:
      options: -Wnonunit-statement -Wunused:explicits -Wunused:implicits -Wunused:imports
        -Wunused:locals -Wunused:params //-Wconf:any:warning-verbose -Wvalue-discard
        -Ykind-projector -deprecation -encoding utf8 -feature -language:experimental.macros
        -language:higherKinds -unchecked
      strict: true
      version: 3.3.6
